import{j as s}from"./jsx-runtime.CvCm5v8p.js";import{c as ae,u as U,a as se,P as j,B as De,b as Fe,d as Me,e as R,f as X,r as Le,R as Oe,g as ke,h as Ve,i as Ke,j as D,k as $e,X as He,l as We}from"./utils.shRZdQP_.js";import{R as _,r as n}from"./index.Cqyox1Tj.js";import"./createLucideIcon.DjI6qtOJ.js";import"./index.xhNrSSbZ.js";function Ue(e){const t=e+"CollectionProvider",[o,r]=ae(t),[d,p]=o(t,{collectionRef:{current:null},itemMap:new Map}),m=l=>{const{scope:a,children:x}=l,u=_.useRef(null),f=_.useRef(new Map).current;return s.jsx(d,{scope:a,itemMap:f,collectionRef:u,children:x})};m.displayName=t;const w=e+"CollectionSlot",E=se(w),i=_.forwardRef((l,a)=>{const{scope:x,children:u}=l,f=p(w,x),v=U(a,f.collectionRef);return s.jsx(E,{ref:v,children:u})});i.displayName=w;const y=e+"CollectionItemSlot",h="data-radix-collection-item",S=se(y),C=_.forwardRef((l,a)=>{const{scope:x,children:u,...f}=l,v=_.useRef(null),g=U(a,v),T=p(y,x);return _.useEffect(()=>(T.itemMap.set(v,{ref:v,...f}),()=>void T.itemMap.delete(v))),s.jsx(S,{[h]:"",ref:g,children:u})});C.displayName=y;function b(l){const a=p(e+"CollectionConsumer",l);return _.useCallback(()=>{const u=a.collectionRef.current;if(!u)return[];const f=Array.from(u.querySelectorAll(`[${h}]`));return Array.from(a.itemMap.values()).sort((T,I)=>f.indexOf(T.ref.current)-f.indexOf(I.ref.current))},[a.collectionRef,a.itemMap])}return[{Provider:m,Slot:i,ItemSlot:C},b,r]}var Xe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ye="VisuallyHidden",Q=n.forwardRef((e,t)=>s.jsx(j.span,{...e,ref:t,style:{...Xe,...e.style}}));Q.displayName=Ye;var Z="ToastProvider",[ee,Be,qe]=Ue("Toast"),[ie,Et]=ae("Toast",[qe]),[ze,Y]=ie(Z),ce=e=>{const{__scopeToast:t,label:o="Notification",duration:r=5e3,swipeDirection:d="right",swipeThreshold:p=50,children:m}=e,[w,E]=n.useState(null),[i,y]=n.useState(0),h=n.useRef(!1),S=n.useRef(!1);return o.trim()||console.error(`Invalid prop \`label\` supplied to \`${Z}\`. Expected non-empty \`string\`.`),s.jsx(ee.Provider,{scope:t,children:s.jsx(ze,{scope:t,label:o,duration:r,swipeDirection:d,swipeThreshold:p,toastCount:i,viewport:w,onViewportChange:E,onToastAdd:n.useCallback(()=>y(C=>C+1),[]),onToastRemove:n.useCallback(()=>y(C=>C-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:S,children:m})})};ce.displayName=Z;var le="ToastViewport",Ge=["F8"],z="toast.viewportPause",G="toast.viewportResume",de=n.forwardRef((e,t)=>{const{__scopeToast:o,hotkey:r=Ge,label:d="Notifications ({hotkey})",...p}=e,m=Y(le,o),w=Be(o),E=n.useRef(null),i=n.useRef(null),y=n.useRef(null),h=n.useRef(null),S=U(t,h,m.onViewportChange),C=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=m.toastCount>0;n.useEffect(()=>{const a=x=>{r.length!==0&&r.every(f=>x[f]||x.code===f)&&h.current?.focus()};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[r]),n.useEffect(()=>{const a=E.current,x=h.current;if(b&&a&&x){const u=()=>{if(!m.isClosePausedRef.current){const T=new CustomEvent(z);x.dispatchEvent(T),m.isClosePausedRef.current=!0}},f=()=>{if(m.isClosePausedRef.current){const T=new CustomEvent(G);x.dispatchEvent(T),m.isClosePausedRef.current=!1}},v=T=>{!a.contains(T.relatedTarget)&&f()},g=()=>{a.contains(document.activeElement)||f()};return a.addEventListener("focusin",u),a.addEventListener("focusout",v),a.addEventListener("pointermove",u),a.addEventListener("pointerleave",g),window.addEventListener("blur",u),window.addEventListener("focus",f),()=>{a.removeEventListener("focusin",u),a.removeEventListener("focusout",v),a.removeEventListener("pointermove",u),a.removeEventListener("pointerleave",g),window.removeEventListener("blur",u),window.removeEventListener("focus",f)}}},[b,m.isClosePausedRef]);const l=n.useCallback(({tabbingDirection:a})=>{const u=w().map(f=>{const v=f.ref.current,g=[v,...lt(v)];return a==="forwards"?g:g.reverse()});return(a==="forwards"?u.reverse():u).flat()},[w]);return n.useEffect(()=>{const a=h.current;if(a){const x=u=>{const f=u.altKey||u.ctrlKey||u.metaKey;if(u.key==="Tab"&&!f){const g=document.activeElement,T=u.shiftKey;if(u.target===a&&T){i.current?.focus();return}const F=l({tabbingDirection:T?"backwards":"forwards"}),V=F.findIndex(A=>A===g);q(F.slice(V+1))?u.preventDefault():T?i.current?.focus():y.current?.focus()}};return a.addEventListener("keydown",x),()=>a.removeEventListener("keydown",x)}},[w,l]),s.jsxs(De,{ref:E,role:"region","aria-label":d.replace("{hotkey}",C),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&s.jsx(J,{ref:i,onFocusFromOutsideViewport:()=>{const a=l({tabbingDirection:"forwards"});q(a)}}),s.jsx(ee.Slot,{scope:o,children:s.jsx(j.ol,{tabIndex:-1,...p,ref:S})}),b&&s.jsx(J,{ref:y,onFocusFromOutsideViewport:()=>{const a=l({tabbingDirection:"backwards"});q(a)}})]})});de.displayName=le;var ue="ToastFocusProxy",J=n.forwardRef((e,t)=>{const{__scopeToast:o,onFocusFromOutsideViewport:r,...d}=e,p=Y(ue,o);return s.jsx(Q,{"aria-hidden":!0,tabIndex:0,...d,ref:t,style:{position:"fixed"},onFocus:m=>{const w=m.relatedTarget;!p.viewport?.contains(w)&&r()}})});J.displayName=ue;var O="Toast",Je="toast.swipeStart",Qe="toast.swipeMove",Ze="toast.swipeCancel",et="toast.swipeEnd",pe=n.forwardRef((e,t)=>{const{forceMount:o,open:r,defaultOpen:d,onOpenChange:p,...m}=e,[w,E]=Fe({prop:r,defaultProp:d??!0,onChange:p,caller:O});return s.jsx(Me,{present:o||w,children:s.jsx(rt,{open:w,...m,ref:t,onClose:()=>E(!1),onPause:X(e.onPause),onResume:X(e.onResume),onSwipeStart:R(e.onSwipeStart,i=>{i.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:R(e.onSwipeMove,i=>{const{x:y,y:h}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","move"),i.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:R(e.onSwipeCancel,i=>{i.currentTarget.setAttribute("data-swipe","cancel"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:R(e.onSwipeEnd,i=>{const{x:y,y:h}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","end"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),E(!1)})})})});pe.displayName=O;var[tt,ot]=ie(O,{onClose(){}}),rt=n.forwardRef((e,t)=>{const{__scopeToast:o,type:r="foreground",duration:d,open:p,onClose:m,onEscapeKeyDown:w,onPause:E,onResume:i,onSwipeStart:y,onSwipeMove:h,onSwipeCancel:S,onSwipeEnd:C,...b}=e,l=Y(O,o),[a,x]=n.useState(null),u=U(t,c=>x(c)),f=n.useRef(null),v=n.useRef(null),g=d||l.duration,T=n.useRef(0),I=n.useRef(g),k=n.useRef(0),{onToastAdd:F,onToastRemove:V}=l,A=X(()=>{a?.contains(document.activeElement)&&l.viewport?.focus(),m()}),K=n.useCallback(c=>{!c||c===1/0||(window.clearTimeout(k.current),T.current=new Date().getTime(),k.current=window.setTimeout(A,c))},[A]);n.useEffect(()=>{const c=l.viewport;if(c){const P=()=>{K(I.current),i?.()},N=()=>{const M=new Date().getTime()-T.current;I.current=I.current-M,window.clearTimeout(k.current),E?.()};return c.addEventListener(z,N),c.addEventListener(G,P),()=>{c.removeEventListener(z,N),c.removeEventListener(G,P)}}},[l.viewport,g,E,i,K]),n.useEffect(()=>{p&&!l.isClosePausedRef.current&&K(g)},[p,g,l.isClosePausedRef,K]),n.useEffect(()=>(F(),()=>V()),[F,V]);const oe=n.useMemo(()=>a?Ee(a):null,[a]);return l.viewport?s.jsxs(s.Fragment,{children:[oe&&s.jsx(st,{__scopeToast:o,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:oe}),s.jsx(tt,{scope:o,onClose:A,children:Le.createPortal(s.jsx(ee.ItemSlot,{scope:o,children:s.jsx(Oe,{asChild:!0,onEscapeKeyDown:R(w,()=>{l.isFocusedToastEscapeKeyDownRef.current||A(),l.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(j.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":p?"open":"closed","data-swipe-direction":l.swipeDirection,...b,ref:u,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:R(e.onKeyDown,c=>{c.key==="Escape"&&(w?.(c.nativeEvent),c.nativeEvent.defaultPrevented||(l.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:R(e.onPointerDown,c=>{c.button===0&&(f.current={x:c.clientX,y:c.clientY})}),onPointerMove:R(e.onPointerMove,c=>{if(!f.current)return;const P=c.clientX-f.current.x,N=c.clientY-f.current.y,M=!!v.current,L=["left","right"].includes(l.swipeDirection),$=["left","up"].includes(l.swipeDirection)?Math.min:Math.max,_e=L?$(0,P):0,je=L?0:$(0,N),B=c.pointerType==="touch"?10:2,H={x:_e,y:je},re={originalEvent:c,delta:H};M?(v.current=H,W(Qe,h,re,{discrete:!1})):ne(H,l.swipeDirection,B)?(v.current=H,W(Je,y,re,{discrete:!1}),c.target.setPointerCapture(c.pointerId)):(Math.abs(P)>B||Math.abs(N)>B)&&(f.current=null)}),onPointerUp:R(e.onPointerUp,c=>{const P=v.current,N=c.target;if(N.hasPointerCapture(c.pointerId)&&N.releasePointerCapture(c.pointerId),v.current=null,f.current=null,P){const M=c.currentTarget,L={originalEvent:c,delta:P};ne(P,l.swipeDirection,l.swipeThreshold)?W(et,C,L,{discrete:!0}):W(Ze,S,L,{discrete:!0}),M.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),l.viewport)})]}):null}),st=e=>{const{__scopeToast:t,children:o,...r}=e,d=Y(O,t),[p,m]=n.useState(!1),[w,E]=n.useState(!1);return it(()=>m(!0)),n.useEffect(()=>{const i=window.setTimeout(()=>E(!0),1e3);return()=>window.clearTimeout(i)},[]),w?null:s.jsx(ke,{asChild:!0,children:s.jsx(Q,{...r,children:p&&s.jsxs(s.Fragment,{children:[d.label," ",o]})})})},nt="ToastTitle",fe=n.forwardRef((e,t)=>{const{__scopeToast:o,...r}=e;return s.jsx(j.div,{...r,ref:t})});fe.displayName=nt;var at="ToastDescription",me=n.forwardRef((e,t)=>{const{__scopeToast:o,...r}=e;return s.jsx(j.div,{...r,ref:t})});me.displayName=at;var ve="ToastAction",we=n.forwardRef((e,t)=>{const{altText:o,...r}=e;return o.trim()?s.jsx(Te,{altText:o,asChild:!0,children:s.jsx(te,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ve}\`. Expected non-empty \`string\`.`),null)});we.displayName=ve;var xe="ToastClose",te=n.forwardRef((e,t)=>{const{__scopeToast:o,...r}=e,d=ot(xe,o);return s.jsx(Te,{asChild:!0,children:s.jsx(j.button,{type:"button",...r,ref:t,onClick:R(e.onClick,d.onClose)})})});te.displayName=xe;var Te=n.forwardRef((e,t)=>{const{__scopeToast:o,altText:r,...d}=e;return s.jsx(j.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...d,ref:t})});function Ee(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),ct(r)){const d=r.ariaHidden||r.hidden||r.style.display==="none",p=r.dataset.radixToastAnnounceExclude==="";if(!d)if(p){const m=r.dataset.radixToastAnnounceAlt;m&&t.push(m)}else t.push(...Ee(r))}}),t}function W(e,t,o,{discrete:r}){const d=o.originalEvent.currentTarget,p=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:o});t&&d.addEventListener(e,t,{once:!0}),r?Ke(d,p):d.dispatchEvent(p)}var ne=(e,t,o=0)=>{const r=Math.abs(e.x),d=Math.abs(e.y),p=r>d;return t==="left"||t==="right"?p&&r>o:!p&&d>o};function it(e=()=>{}){const t=X(e);Ve(()=>{let o=0,r=0;return o=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(o),window.cancelAnimationFrame(r)}},[t])}function ct(e){return e.nodeType===e.ELEMENT_NODE}function lt(e){const t=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const d=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||d?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)t.push(o.currentNode);return t}function q(e){const t=document.activeElement;return e.some(o=>o===t?!0:(o.focus(),document.activeElement!==t))}var dt=ce,ye=de,he=pe,ge=fe,Ce=me,Re=we,be=te;const ut=dt,Pe=n.forwardRef(({className:e,...t},o)=>s.jsx(ye,{ref:o,className:D("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Pe.displayName=ye.displayName;const pt=$e("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ne=n.forwardRef(({className:e,variant:t,...o},r)=>s.jsx(he,{ref:r,className:D(pt({variant:t}),e),...o}));Ne.displayName=he.displayName;const ft=n.forwardRef(({className:e,...t},o)=>s.jsx(Re,{ref:o,className:D("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));ft.displayName=Re.displayName;const Se=n.forwardRef(({className:e,...t},o)=>s.jsx(be,{ref:o,className:D("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(He,{className:"h-4 w-4"})}));Se.displayName=be.displayName;const Ie=n.forwardRef(({className:e,...t},o)=>s.jsx(ge,{ref:o,className:D("text-sm font-semibold",e),...t}));Ie.displayName=ge.displayName;const Ae=n.forwardRef(({className:e,...t},o)=>s.jsx(Ce,{ref:o,className:D("text-sm opacity-90",e),...t}));Ae.displayName=Ce.displayName;function yt(){const{toasts:e}=We();return s.jsxs(ut,{children:[e.map(function({id:t,title:o,description:r,action:d,...p}){return s.jsxs(Ne,{...p,children:[s.jsxs("div",{className:"grid gap-1",children:[o&&s.jsx(Ie,{children:o}),r&&s.jsx(Ae,{children:r})]}),d,s.jsx(Se,{})]},t)}),s.jsx(Pe,{})]})}export{yt as Toaster};
